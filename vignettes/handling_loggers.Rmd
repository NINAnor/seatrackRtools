---
title: " Handling loggers"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{handling_loggers}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

First, set the sea trach folders

```{r eval = FALSE}
seatrack_path <- "path/to/Norsk Polarinstitutt/Benjamin Merkel - SEATRACK - shared"
set_sea_track_folder(seatrack_path)
```

Set up file paths for nonresponsive logger sheets and load the sheets.

Load all master import sheets

```{r eval = FALSE}
all_metadata_combined <- load_all_master_import(FALSE)
```

Get information about a logger

```{r eval = FALSE}
logger_data <- get_logger_from_metadata("B8478", all_metadata)
```

Print the first occurence of a logger's path and excel sheet index. Note that some loggers might have multiple entries if they appear multiple times.
```{r eval = FALSE}
print(logger_data[[1]]$path)
print(logger_data[[1]]$row_index + 1)
```

Print some relevant data.

```{r eval = FALSE}
data_only <- lapply(logger_data, function(x) x$data[c("logger_serial_no", "logger_model", "production_year", "download_type", "download_date", "shutdown_date", "intended_location")])
print(data_only, width = 1000)
```

Get the filename for downloading data from the logger.

```{r eval = FALSE}
paste0(data_only[[1]]$logger_serial_no, "_", format(as.Date(Sys.time()), "%Y", ), "_", data_only[[1]]$logger_model)
```

TODO: Show how entire sheet can be updated.
Perhaps make the generation of a filename a function?

